<div>
<div *ngIf="!completed && !failed">
    <!-- <img src="imagesbg.jpg" id="bg" alt=""> -->
    
    <!-- <div class="glasscard"> -->
        <h6 class="prog">Course Progress:</h6>
       <ngb-progressbar  type="success" [value]="getProgress()" [striped]="true" [animated]="true" ><i>{{getProgress() | number:'1.0-1' }}</i></ngb-progressbar> 

    
        <main class="d-flex flex-wrap flex-row bd-highlight mb-3 justify-content-center">
          
                <div class="completed p-2 bd-highlight justify-content-center">
                    <h1>Materials for {{courseName}} :</h1>
                    <div *ngFor="let m of material; let j=index;">
                       <b>{{j}}. Name: {{m.name}}</b><br>
                        Type: {{m.type}}<br>
                        <!-- downloadable:{{m.isDownloadable}}<br> -->
                            <ng-template *ngIf="m.isDownloadable== false; else elseBlock"> 
../../assets/db.jpg
                            </ng-template>
                            <ng-template #elseBlock>
                           <a class="btn btn-danger" href="{{m.path}}" download="{{m.name}}" (click)="addProgress(m.name)">Download resource</a>

                            </ng-template>
                            <button class="btn  btn-secondary" (click)="open(content);addProgress(m.name)">View</button>
                                                <!-- modal -->
<ng-template #content let-modal>
    <div class="modal-header">
      <h4 class="modal-title" id="modal-basic-title">View Material</h4>
      <button type="button" class="btn-close" aria-label="Close" (click)="modal.dismiss('Cross click')"></button>
    </div>

    <div class="modal-body d-flex justify-content-center">
                  <pdf-viewer *ngIf="m.type=='pdf'" [src]="m.path" [render-text]="true" [original-size]="false" style="width: 400px; height: 500px"></pdf-viewer>
            <img *ngIf="m.type=='img'" [src]="m.path"  width="400" height="320">
            <video *ngIf="m.type=='mp4'" width="400" height="320" controls>
                <source [src]="m.path" type="video/mp4">
              </video>
              
   
    </div>

    <div class="modal-footer">
    </div>
  </ng-template>
   
  <hr>

  <!-- model end -->
                       <br>
                      
                        </div>

                    <h5>Assessments for the course:</h5>
                     <a class="btn btn-outline-light" routerLink="assessment" [state]="{assessments:assessmentsDetails[ai][0] , weightage:assessments[ai].weightage, courseId:courseId}" *ngFor="let a of assessmentsDetails; let ai=index;"[class.disabled]="isdisable[ai].val">{{a[0].name}}</a>
            
                 
                </div>
    
       
    
        </main>
    <!-- </div> -->
    </div>
    <!-- passed -->
<div *ngIf="completed && !failed">
    <main class="d-flex flex-wrap flex-row bd-highlight mb-3 justify-content-center">
          
        <div class="completed p-2 bd-highlight justify-content-center">
            <h1>Congratulations!</h1><br>
           <h4>You have Passed the course of {{courseName}}</h4> 
           <h6>find your certificate on the dashboard in completed courses</h6>
            </div>
            </main>
 </div>
<!-- failed -->
 <div *ngIf="!completed && failed">
    <main class="d-flex flex-wrap flex-row bd-highlight mb-3 justify-content-center">
          
        <div class="completed p-2 bd-highlight justify-content-center">
            <h1>Failed!</h1><br>
           <h4>You have failed {{courseName}}</h4> 
           <h6>Contact Admin to register you again for this course</h6>
            </div>
            </main>
 </div>
</div>
